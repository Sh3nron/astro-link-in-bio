---
import ProfileSection from "./ProfileSection.astro";
import LinkCard from "./LinkCard.astro";
import SocialFooter from "./SocialFooter.astro";
import ThemeToggle from "./ThemeToggle.astro";
import { siteConfig } from "../config";

interface Props {
  profileImage: ImageMetadata;
}

const { profileImage } = Astro.props;
---

<main class="relative min-h-screen px-6 py-10 flex flex-col overflow-hidden">
  <div class="fixed inset-0 z-[-1] bg-gradient-to-br from-slate-50 via-white to-slate-100 bg-theme-transition dark:opacity-0"></div>
  <div class="fixed inset-0 z-[-1] bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 bg-theme-transition opacity-0 dark:opacity-100"></div>
  
  <ThemeToggle />

  <div class="fixed z-0 w-[500px] h-[500px] rounded-full animate-float-1 bg-orb-1 blur-[60px] -top-[10%] -left-[10%]"></div>
  <div class="fixed z-0 w-[600px] h-[600px] rounded-full animate-float-2 bg-orb-2 blur-[80px] top-[30%] -right-[20%]"></div>
  <div class="fixed z-0 w-[450px] h-[450px] rounded-full animate-float-3 bg-orb-3 blur-[70px] -bottom-[5%] left-[20%]"></div>
  <div class="fixed z-0 w-[350px] h-[350px] rounded-full animate-float-4 bg-orb-4 blur-[50px] top-[60%] -left-[5%]"></div>
  <div class="pointer-events-none fixed inset-0 z-[1] bg-noise opacity-[0.025]"></div>

  <div class="relative z-10 mx-auto max-w-[400px] w-full flex flex-col flex-1 justify-between">
    <div class="pt-2 animate-fade-in-up animation-delay-100">
      <ProfileSection
        name={siteConfig.profile.name}
        bio={siteConfig.profile.bio}
        image={profileImage}
      />
    </div>

    <div class="space-y-3 py-8">
      <h2 class="sr-only">Links</h2>
      {
        siteConfig.links.map((link, index) => (
          <div
            class="animate-fade-in-up"
            style={{ animationDelay: `${0.2 + index * 0.05}s` }}
          >
            <LinkCard title={link.title} description={link.description} href={link.href}>
              <svg
                slot="icon"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="h-5 w-5"
                set:html={link.iconPath}
              />
            </LinkCard>
          </div>
        ))
      }
    </div>

    <div class="pb-2 animate-fade-in-up animation-delay-400">
      <SocialFooter />
    </div>
  </div>
</main>
